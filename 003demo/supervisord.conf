[supervisord]
nodaemon=true

[program:xvfb]
command=Xvfb :1 -screen 0 1280x800x24
autorestart=true
priority=100

[program:fluxbox]
command=fluxbox
environment=DISPLAY=":1"
autorestart=true
priority=200

[program:x11vnc]
command=x11vnc -display :1 -nopw -forever -shared
autorestart=true
priority=400

[program:websockify]
command=websockify --web=/usr/share/novnc/ 6080 localhost:5900
autorestart=true
priority=500

[program:chrome]
command=/usr/local/bin/launch_chrome.sh
environment=DISPLAY=":1"
autorestart=true
priority=200
startsecs=10

[program:mcp-chrome]
command=/usr/bin/node /usr/lib/node_modules/chrome-devtools-mcp/build/src/index.js --browserUrl http://127.0.0.1:9222
directory=/root/workspace
environment=DISPLAY=":1",NODE_ENV="production"
autorestart=true
priority=602
startsecs=5
